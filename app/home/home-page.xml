<Page class="page" navigatingTo="onNavigatingTo" 
    xmlns="http://schemas.nativescript.org/tns.xsd" 
    xmlns:map="nativescript-mapbox" 
    xmlns:FAB="nativescript-floatingactionbutton">

    <!-- <ActionBar class="action-bar">
        <Label class="action-bar-title" text="Map"></Label> 
    </ActionBar>  
    -->
    <ContentView >
        <GridLayout rows="* 60vh" columns="* *">
            <StackLayout loaded="onMapLoaded" row="0" colSpan="2" width="100%" id="myMap" style="z-index: -1;">
                <!-- The map dynamically loads here -->
            </StackLayout>
            <ActivityIndicator row="0" colSpan="2" width="25%" color="#FF8C28" busy="{{ isLoading }}" />

            <StackLayout colSpan="2" row="0" verticalAlignment="top">
                <StackLayout orientation="horizontal">
                    <GridLayout rows="40" columns="* 60" style="margin-left: 10; margin-right: 10; margin-top: 25;">
                        <TextField row="0" col="0" returnKeyType="search" text="" hint="Search..." class="searchBar" />
                        <Image row="0" col="0" horizontalAlignment="right" width="26" height="26" src="~/icons/search.png" style="margin-right: 4;" />
                        <Button row="0" col="1" text="=" class="settingsButton"/>
                    </GridLayout>
                </StackLayout>
                <GridLayout id="trailinfopanel" visibility="visible" rows="* auto auto" columns = "* * *" width="95%" height="110vh" class="trailInfo">
                    <Label row="0" colSpan="2" text="{{ selectedTrailName }}" verticalAlignment="bottom" class="trailName" />
                    <StackLayout id="trailinforating" class="trailRating" row="1" col="0" orientation="horizontal">
                        <Image src="res://star_grey" />
                        <Image src="res://star_grey" />
                        <Image src="res://star_grey" />
                    </StackLayout>
                    <Label row="2" col="0" horizontalAlignment="left" text="Moderate" class="trailDifficultyLbl" />
                </GridLayout>
            </StackLayout>

            <Image src="res://recenter_icon" row="0" col="1" horizontalAlignment="right" verticalAlignment="bottom" style="width: 32ppi; height: 32ppi; padding: 4; margin-right: 12; margin-bottom: 80vh;" tap="recenterTap" />
            <Button class="create-trail-modal-button" verticalAlignment="bottom" row="0" colSpan="2" text="Record New Trail" tap="goToRecording" />

            <GridLayout row="1" colSpan="2" rows="*" columns="* * * * *">
                <Image class="navbarIcon" src="res://feed_icon" style="margin-left: 2vw;" row="0" col="0" />
                <!-- <Button row="0" col="0" text="etc" /> -->
                <Image class="navbarIcon" src="res://discover_icon" row="0" col="1" />
                <!-- <Button row="0" col="1" text="etc" /> -->
                <Image class="navbarIcon" src="res://map_icon" row="0" col="2" />
                <!-- <Button row="0" col="2" text="Home" /> -->
                <Image class="navbarIcon" src="res://map_icon" row="0" col="3" />
                <!-- <Button row="0" col="3" text="etc" /> -->
                <Image class="navbarIcon" src="res://garage_icon" row="0" col="4" style=" margin-right: 2vw;" />
                <!-- <Button row="0" col="4" text="etc" /> -->
            </GridLayout>
        </GridLayout>
    </ContentView>

</Page>

<!--  code graveyard...... 

<GridLayout id="recordPopup" rows="auto 40vh 30vh 60vh 40vh 30vh" columns="* *" colSpan="2" height="60%" class="create-trail-modal" visibility="visible">
                
                <Label row="1" col="0" verticalAlignment="top" class="create-trail-modal-label" text="00:00" />
                <Label row="1" col="1" verticalAlignment="top" class="create-trail-modal-label" text="522f" />
                <Label row="2" col="0" verticalAlignment="top" class="create-trail-modal-label light" text="Recording" />
                <Label row="2" col="1" verticalAlignment="top" class="create-trail-modal-label light" text="Elevation" />

                <Label row="4" col="0" verticalAlignment="top" class="create-trail-modal-label" text="----" />
                <Label row="4" col="1" verticalAlignment="top" class="create-trail-modal-label" text="000m" />
                <Label row="5" col="0" verticalAlignment="top" class="create-trail-modal-label light" text="Pitch" />
                <Label row="5" col="1" verticalAlignment="top" class="create-trail-modal-label light" text="Distance" />

</GridLayout>
            
            <!-- <Label col="0" style="z-index: 10; background-color: white; color: black; width: 120vw; height: 60vh;text-align: center;" verticalAlignment="top" horizontalAlignment="left" text="{{ pitch }}" />
            <Label col="1" style="z-index: 10; background-color: white; color: black; width: 120vw; height: 60vh;text-align: center;" verticalAlignment="top" horizontalAlignment="left" text="{{ roll }}" />
            <Label col="0" style="z-index: 10; background-color: white; color: black; width: 120vw; height: 60vh;text-align: center; margin-top: 70vw;" verticalAlignment="top" horizontalAlignment="left" text="{{ time }}" />
            <Label col="1" style="z-index: 10; background-color: white; color: black; width: 120vw; height: 60vh;text-align: center; margin-top: 70vw;" verticalAlignment="top" horizontalAlignment="left" text="{{ dist }}" /> -->


 -->